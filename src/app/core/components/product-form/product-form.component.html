<div class="container">
<p-card [header]="product ? 'Update Product':'Create Product'">
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
      <div class="p-fluid p-formgrid p-grid">
        <div class="p-field p-col-12">
          <label for="code">Code</label>
          <input pInputText id="code" formControlName="code" />
          <div *ngIf="code && code.invalid && (code.dirty || code.touched)" class="p-error">
            <div *ngIf="code.errors && code.errors['required']">Code is required</div>
          </div>
        </div>
  
        <div class="p-field p-col-12">
          <label for="name">Name</label>
          <input pInputText id="name" formControlName="name" />
          <div *ngIf="name && name.invalid && (name.dirty || name.touched)" class="p-error">
            <div *ngIf="name.errors && name.errors['required']">Name is required</div>
          </div>
        </div>
  
        <div class="p-field p-col-12">
          <label for="price">Price</label>
          <input pInputText id="price" formControlName="price" />
          <div *ngIf="price && price.invalid && (price.dirty || price.touched)" class="p-error">
            <div *ngIf="price.errors && price.errors['required']">Price is required</div>
            <div *ngIf="price.errors && price.errors['min']">Price must be bigger or equal than 0.01</div>
          </div>
        </div>
  
        <div class="p-field p-col-12">
          <label for="type">Product Type</label>
          <p-dropdown id="type" [options]="productTypes" formControlName="type" optionLabel="label" optionValue="value"></p-dropdown>
          <div *ngIf="type && type.invalid && (type.dirty || type.touched)" class="p-error">
            <div *ngIf="type.errors && type.errors['required']">Type is required</div>
          </div>
        </div>
 
        <div *ngIf="type?.value === 'digital'" class="p-field p-col-12">
          <label for="downloadLink">Download Link</label>
          <input pInputText id="downloadLink" formControlName="downloadLink" />
          <div *ngIf="downloadLink && downloadLink.invalid && (downloadLink.dirty || downloadLink.touched)" class="p-error">
            <div *ngIf="downloadLink.errors && downloadLink.errors['required']">DownloadLink is required</div>          
          </div>
        </div>
  
        <div *ngIf="type?.value === 'physical'" class="p-field p-col-12">
          <label for="shipmentCost">Shipment Cost</label>
          <input pInputText id="shipmentCost" formControlName="shipmentCost"  />
          <div *ngIf="shipmentCost && shipmentCost.invalid && (shipmentCost.dirty || shipmentCost.touched)" class="p-error">
            <div *ngIf="shipmentCost.errors && shipmentCost.errors['required']">ShipmentCost is required</div>
            <div *ngIf="shipmentCost.errors && shipmentCost.errors['min']">ShipmentCost must be bigger or equal than 0.01</div>
          </div>
        </div>
  
        <div class="p-col-12 mt-2">
          <button pButton type="submit" label="Submit" [disabled]="productForm.invalid"></button>
        </div>
      </div>
    </form>
  </p-card>
  
</div>